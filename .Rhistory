rownames(df) <- df$V1
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
df <- data.frame(rcsv_tmp)
df <- df[!duplicated(rcsv_tmp),]
rownames(df) <- df$V1
rcsv <- cbind(rcsv, df)
# tmp_sea <- as.character(rcsv$V1[1]);tmp_sea
cat(y,z,";")
}
}
df <- data.frame(rcsv_tmp)
df <- df[!duplicated(rcsv_tmp),]
rownames(df) <- df$V1
rcsv <- cbind(rcsv, df)
View(df)
df <- sort(df$V1)
df <- data.frame(rcsv_tmp)
df <- df[!duplicated(rcsv_tmp),]
View(df)
colnames(df) <- c(no, file_name_mon)
colnames(df) <- c("no", file_name_mon)
View(df)
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- data.frame(rcsv_tmp)
rcsv_tmp <- df[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- data.frame(rcsv_tmp)
rcsv_tmp <- df[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
# rcsv <- cbind(rcsv, df)
# tmp_sea <- as.character(rcsv$V1[1]);tmp_sea
cat(y,z,";")
}
}
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
df <- data.frame(rcsv_tmp)
df <- df[!duplicated(rcsv_tmp),]
colnames(df) <- c("no", file_name_mon)
# rcsv <- cbind(rcsv, df)
# tmp_sea <- as.character(rcsv$V1[1]);tmp_sea
cat(y,z,";")
}
}
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
df <- data.frame(rcsv_tmp)
df <- df[!duplicated(rcsv_tmp),]
colnames(df) <- c("no", file_name_mon)
# rcsv <- cbind(rcsv, df)
# tmp_sea <- as.character(rcsv$V1[1]);tmp_sea
cat(y,mo,";")
}
}
View(df)
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- data.frame(rcsv_tmp)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
# rcsv <- cbind(rcsv, df)
# tmp_sea <- as.character(rcsv$V1[1]);tmp_sea
cat(y,mo,";")
}
}
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
# rcsv <- cbind(rcsv, df)
# tmp_sea <- as.character(rcsv$V1[1]);tmp_sea
cat(y,mo,";")
}
}
View(rcsv_tmp)
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
merge(rcsv_tmp, rcsv, by="no", all = TRUE)
cat(y,mo,";")
}
}
colnames(rcsv) <- c("no")
rcsv <- NULL
colnames(rcsv) <- c("no")
rcsv <- ifelse(is.null(rcsv_tmp), rcsv_tmp, merge(rcsv_tmp, rcsv, by="no", all = TRUE))
is.null(rcsv_tmp)
rcsv <- ifelse(is.null(rcsv), rcsv_tmp, merge(rcsv_tmp, rcsv, by="no", all = TRUE))
View(rcsv)
View(rcsv_tmp)
rcsv <- NULL
is.null(rcsv)
rcsv <- ifelse(is.null(rcsv), rcsv_tmp, merge(rcsv_tmp, rcsv, by="no", all = TRUE))
View(rcsv)
rcsv <- rcsv_tmp
rcsv <- NULL
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
rcsv <- NULL
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
}
View(rcsv)
View(rcsv)
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
if(is.null(rcsv)){rcsv_mon <- rcsv_tmp}else{rcsv_mon <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
}
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
if(is.null(rcsv)){rcsv_mon <- rcsv_tmp}else{rcsv_mon <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp)
rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp)
rcsv_mon <- NULL
rcsv_mon <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
if(is.null(rcsv_mon)){rcsv_mon <- rcsv_tmp}else{rcsv_mon <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
}
is.null(rcsv_mon)
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp, mo, y)
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", file_name_mon)
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv_mon <- rcsv; rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp, mo, y, rcsv)
View(rcsv_mon)
plot(rcsv)
plot(rcsv_mon)
rcsv_mon[[1]]
rcsv_mon[[1]][1]
rcsv_mon[[1]][2]
rcsv_mon[[1:]][2]
rcsv_mon[[2]][2]
r(rcsv_mon)
t(rcsv_mon)
a <- t(rcsv_mon)
View(a)
col(a)
row(a)
row.names(a)
View(a)
stock_data <- xts(a$v2, order.by = as.Date(row.names(a)))
#install.packages( c("jsonlite", "lubridate", "quantmod"))
library(quantmod)
library(lubridate)
stock_data <- xts(a$v2, order.by = as.Date(row.names(a)))
a[1, ]
a[,1]
row.names(a)
a[,2]
stock_data <- xts(a[,2], order.by = as.Date(row.names(a)))
stock_data <- xts(as.numeric(a[,2]), order.by = as.Date(as.numeric(row.names(a))) )
a[1,1]
a[2,2]
as.numeric(a[2,2])
rcsv_tmp <- as.numeric(rcsv_tmp)
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
rcsv_tmp <- as.numeric(rcsv_tmp)
colnames(rcsv_tmp) <- c("no", file_name_mon)
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
as.numeric(a[,2])
View(rcsv_mon)
View(rcsv_tmp)
a$v1
a[,1]
a[,2]
a[,1]
a[,1] <- as.numeric(row.names(a))
stock_data <- xts(as.numeric(a[,2]), order.by = as.Date(a[,1]) )
stock_data <- xts(as.numeric(a[2: ,2]), order.by = as.Date(a[2: ,1]) )
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(a[-1,1]) )
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(as.numeric(a[-1,1])))
View(stock_data)
source("func.R"); a[-1,1] <- year_change_108_to_2019( as.Date(a[-1,1]) )
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", paste0(file_name_mon, "01"))
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv_mon <- rcsv; rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp, mo, y, rcsv)
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
source("func.R"); a[-1,1] <- year_change_108_to_2019( as.Date(a[-1,1]) )
source("func.R"); a[-1,1] <- year_change_108_to_2019( as.Date(as.numeric(a[-1,1])) )
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date((a[-1,1]))
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date((a[-1,1])))
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date((a[-1,1])))
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
da <- ymd(1080401)
ye <- year(da)
ye <- ye + 1911
year(da) <- ye
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(as.numeric(a[-1,1])))
View(stock_data)
source("func.R"); a[-1,1] <- year_change_108_to_2019( as.Date(as.numeric(a[-1,1])) )
View(a)
source("func.R"); a[-1,1] <- year_change_108_to_2019(as.numeric(a[-1,1]) )
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
source("func.R"); a[-1,1] <- year_change_108_to_2019(as.numeric(a[-1,1]) )
as.numeric(a[-1,1])
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
as.numeric(a[-1,1])
da <- ymd(as.numeric(a[-1,1]))
da
ye <- year(da)
ye <- ye + 1911
year(da) <- ye
da
da <- ymd(as.numeric(a[-1,1]))
da
rcsv <- NULL
for(y in c(100:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", paste0(file_name_mon, "01"))
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv_mon <- rcsv; rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp, mo, y, rcsv)
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
da <- ymd(as.numeric(a[-1,1]))
year(da) <- year(da) + 1911
a[-1,1] <- da
da
a[-1,1]
a[-1,1] <- da
a[-1,1]
a[-1,1] <- as.Date( da)
a[-1,1]
as.Date( da)
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(as.numeric(a[-1,1])))
View(stock_data)
rcsv <- NULL
for(y in c(100:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", paste0(file_name_mon, "01"))
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv_mon <- rcsv;
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
source("func.R"); a[-1,1] <- year_change_108_to_2019(as.numeric(a[-1,1]) )
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(as.numeric(a[-1,1])))
View(stock_data)
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", paste0(file_name_mon, "01"))
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv <- NULL
for(y in c(99:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", paste0(file_name_mon, "01"))
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv_mon <- rcsv;
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
source("func.R"); a[-1,1] <- year_change_108_to_2019(as.numeric(a[-1,1]) )
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(as.numeric(a[-1,1])))
View(stock_data)
rcsv <- NULL
for(y in c(100:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", paste0(file_name_mon, "01"))
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv_mon <- rcsv;
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
source("func.R"); a[-1,1] <- year_change_108_to_2019(as.numeric(a[-1,1]) )
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(as.numeric(a[-1,1])))
rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp, mo, y, rcsv)
rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp, mo, y, rcsv, a, da, ye)
chart(stock_data)
chartSeries(stock_data)
View(rcsv_mon)
a[2,1]
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
a[2,1]
a[2,2]
a[1,1]
a[1,2
a[1,2]
a[1,2]
chartSeries(stock_data, name = a[1,2])
View(a)
View(rcsv_mon)
file_path <- paste0(getwd(), "/data_DOHLCV/")
if(dir.exists(file_path) == FALSE){ dir.create(file_path)}
#install.packages( c("jsonlite", "lubridate", "quantmod"))
library(quantmod)
library(lubridate)
library(jsonlite)
library(rvest)
#------------------------------------daily data DOHLCV ----------------------------------------------
source("func.R"); stock_list <- get_stock_num_list("20190429")
source("func.R"); date_set <- get_date_set_all(2010)
file_path <- paste0(getwd(), "/data_DOHLCV/")
file_name <- paste0(file_path, stock_list[4],".csv")
if(dir.exists(file_path) == FALSE){ dir.create(file_path)}
source("DOHLCV.R"); update_DOHLCV(date_set[8:10], stock_list[3:4], file_path)
source("DOHLCV.R"); update_DOHLCV(date_set[1:2], stock_list[1:4], file_path)
source("DOHLCV.R"); update_DOHLCV(date_set[1:4], stock_list[1:4], file_path)
#------------------------------------eps estimate month-----------------------
rcsv <- NULL
for(y in c(100:108)){#99~108
for(mo in c(1:12)){#1~4
if(mo <= 9){file_name_mon <- paste0(y,"0",mo)}else{file_name_mon <- paste0(y,mo)}
file_name_wr <- paste0(paste0(getwd(), "/data_MON/"), file_name_mon,".csv")
rcsv_tmp <- read.csv(file_name_wr)
rcsv_tmp <- rcsv_tmp[!duplicated(rcsv_tmp),]
colnames(rcsv_tmp) <- c("no", paste0(file_name_mon, "01"))
if(is.null(rcsv)){rcsv <- rcsv_tmp}else{rcsv <- merge(rcsv_tmp, rcsv, by="no", all = TRUE)}
cat(y,mo,";")
}
};
rcsv_mon <- rcsv;
View(rcsv_mon)
View(rcsv_mon)
a <- t(rcsv_mon)
# subset(df, V1=="1101")
# complete.cases(df)
# a[!is.na(a)]
# colSums(rcsv_mon)
rcsv_mon[,1]
# subset(df, V1=="1101")
# complete.cases(df)
# a[!is.na(a)]
# colSums(rcsv_mon)
rcsv_mon[,2]
# subset(df, V1=="1101")
# complete.cases(df)
# a[!is.na(a)]
# colSums(rcsv_mon)
bbb<-rcsv_mon[,2]
bbb[!is.na(bbb)]
colSums(bbb[!is.na(bbb)])
bbb
sum(bbb[!is.na(bbb)])
last(rcsv_mon)
last(rcsv_mon[,2])
last(rcsv_mon[,2]) <- sum(bbb[!is.na(bbb)])
length(rcsv_mon[,2])
rcsv_mon[length(rcsv_mon[,2]),2] <- sum(bbb[!is.na(bbb)])
rcsv_mon[length(rcsv_mon[,1]),1] <- "Total"
length(rcsv_mon)
length(rcsv_mon[1,])
rcsv_mon[length(rcsv_mon[,1]),1] <- "Total"
for(x in c(2:length(rcsv_mon[1,]))){
bbb<-rcsv_mon[,2]
rcsv_mon[length(rcsv_mon[,2]),2] <- sum(bbb[!is.na(bbb)])
length(rcsv_mon[1,])
}
# subset(df, V1=="1101")
# complete.cases(df)
# a[!is.na(a)]
# colSums(rcsv_mon)
rcsv_mon[length(rcsv_mon[,1]),1] <- "Total"
for(x in c(2:length(rcsv_mon[1,]))){
bbb<-rcsv_mon[,x]
rcsv_mon[length(rcsv_mon[,x]),x] <- sum(bbb[!is.na(bbb)])
}
a <- t(rcsv_mon)
a[,1] <- as.numeric(row.names(a))
source("func.R"); a[-1,1] <- year_change_108_to_2019(as.numeric(a[-1,1]) )
stock_data <- xts(as.numeric(a[-1,2]), order.by = as.Date(as.numeric(a[-1,1])))
rm(rcsv_tmp, file_name_mon, file_name_wr, rcsv_tmp, mo, y, rcsv, da, ye)
chartSeries(stock_data, name = a[1,2])
stock_data <- xts(as.numeric(subset(a, no=="1101")), order.by = as.Date(as.numeric(a[-1,1])))
stock_data <- xts(as.numeric(subset(rcsv_mon, no=="1101")), order.by = as.Date(as.numeric(a[-1,1])))
at <- t(a)
stock_data <- xts(as.numeric(subset(at, no=="1101")), order.by = as.Date(as.numeric(a[-1,1])))
View(at)
subset(at, no=="1101")
subset(at, select = on:1001)
subset(at, select = no:1001)
